'use strict';const _0x588ea0=_0x437c;(function(_0x4b1165,_0x1259bf){const _0x48f9b9=_0x437c,_0x1e9247=_0x4b1165();while(!![]){try{const _0x2b72cb=parseInt(_0x48f9b9(0x17b))/0x1+-parseInt(_0x48f9b9(0x152))/0x2+-parseInt(_0x48f9b9(0x171))/0x3+-parseInt(_0x48f9b9(0x153))/0x4+parseInt(_0x48f9b9(0x15b))/0x5+parseInt(_0x48f9b9(0x18d))/0x6+-parseInt(_0x48f9b9(0x183))/0x7;if(_0x2b72cb===_0x1259bf)break;else _0x1e9247['push'](_0x1e9247['shift']());}catch(_0x194c7c){_0x1e9247['push'](_0x1e9247['shift']());}}}(_0x5688,0x920ff));function _0x437c(_0x483a2a,_0x494e19){const _0x568863=_0x5688();return _0x437c=function(_0x437cb0,_0x8c7003){_0x437cb0=_0x437cb0-0x152;let _0x17083d=_0x568863[_0x437cb0];return _0x17083d;},_0x437c(_0x483a2a,_0x494e19);}var __decorate=this&&this['__decorate']||function(_0x693b9b,_0x5b0fa0,_0xa4fca9,_0x36af7c){const _0x323d3b=_0x437c;var _0x334228=arguments[_0x323d3b(0x193)],_0x4009e6=_0x334228<0x3?_0x5b0fa0:_0x36af7c===null?_0x36af7c=Object[_0x323d3b(0x165)](_0x5b0fa0,_0xa4fca9):_0x36af7c,_0xa07f86;if(typeof Reflect===_0x323d3b(0x15a)&&typeof Reflect[_0x323d3b(0x18e)]===_0x323d3b(0x160))_0x4009e6=Reflect['decorate'](_0x693b9b,_0x5b0fa0,_0xa4fca9,_0x36af7c);else{for(var _0x88437a=_0x693b9b['length']-0x1;_0x88437a>=0x0;_0x88437a--)if(_0xa07f86=_0x693b9b[_0x88437a])_0x4009e6=(_0x334228<0x3?_0xa07f86(_0x4009e6):_0x334228>0x3?_0xa07f86(_0x5b0fa0,_0xa4fca9,_0x4009e6):_0xa07f86(_0x5b0fa0,_0xa4fca9))||_0x4009e6;}return _0x334228>0x3&&_0x4009e6&&Object[_0x323d3b(0x17a)](_0x5b0fa0,_0xa4fca9,_0x4009e6),_0x4009e6;},__metadata=this&&this[_0x588ea0(0x189)]||function(_0x249c90,_0x1853d1){const _0x38e3c5=_0x588ea0;if(typeof Reflect==='object'&&typeof Reflect[_0x38e3c5(0x198)]===_0x38e3c5(0x160))return Reflect[_0x38e3c5(0x198)](_0x249c90,_0x1853d1);},__param=this&&this['__param']||function(_0x3e701e,_0x38d877){return function(_0x2a5041,_0x13cb64){_0x38d877(_0x2a5041,_0x13cb64,_0x3e701e);};};Object[_0x588ea0(0x17a)](exports,_0x588ea0(0x167),{'value':!![]}),exports['MenuService']=void 0x0;function _0x5688(){const _0x312950=['menuPlatform','length','affected','icon-park-outline:mindmap-map','应用广场','setMenu','metadata','ri:message-3-line','绘画广场','Injectable','/draw','361660rEkPgb','798760FfurBD','AppStore','@nestjs/common','save','Pay','updateIcon','会员中心','object','3234820qULszb','推广计划','HttpException','基础绘画','findOne','function','UserCenter','delete','icon-park-outline:shopping','ant-design:appstore-outlined','getOwnPropertyDescriptor','/pay','__esModule','Repository','对话聊天','/user-center','menuEntity','/mind','HttpStatus','Mind','MenuEntity','/market','559530sEjqkZ','Market','menuPath','ri:landscape-line','缺失必要参数!','menuListFront','update','Draw','onModuleInit','defineProperty','984069rqEiDi','Midjourney','initMenu','isSystem','solar:album-line-duotone','visibleMenu','delMenu','操作菜单失败!','4638193MfBOuA','InjectRepository','/app-store','uiw:share','/midjourney','Share','__metadata','专业绘画','count','design:paramtypes','1181202GfOPsf','decorate','BAD_REQUEST','Chat','ASC'];_0x5688=function(){return _0x312950;};return _0x5688();}const common_1=require(_0x588ea0(0x155)),typeorm_1=require('@nestjs/typeorm'),typeorm_2=require('typeorm'),menu_entity_1=require('./menu.entity');let MenuService=class MenuService{constructor(_0x5b72b5){const _0x1b109a=_0x588ea0;this[_0x1b109a(0x16b)]=_0x5b72b5;}async[_0x588ea0(0x179)](){const _0x24b59a=_0x588ea0;await this[_0x24b59a(0x17d)]();}async[_0x588ea0(0x17d)](){const _0xea1b8d=_0x588ea0,_0x52aa2b=await this[_0xea1b8d(0x16b)][_0xea1b8d(0x18b)]();if(_0x52aa2b>0x0)return;const _0x577d67=[{'menuTipText':_0xea1b8d(0x169),'menuIcon':_0xea1b8d(0x199),'menuName':'Chat','menuPath':'/chat','menuType':0x0,'menuPlatform':0x1,'order':0x64},{'menuTipText':_0xea1b8d(0x196),'menuIcon':_0xea1b8d(0x164),'menuName':'AppStore','menuPath':_0xea1b8d(0x185),'menuType':0x0,'menuPlatform':0x1,'order':0xc8},{'menuTipText':_0xea1b8d(0x18a),'menuIcon':_0xea1b8d(0x174),'menuName':_0xea1b8d(0x17c),'menuPath':'/midjourney','menuType':0x0,'menuPlatform':0x1,'order':0x12c},{'menuTipText':_0xea1b8d(0x19a),'menuIcon':_0xea1b8d(0x17f),'menuName':_0xea1b8d(0x172),'menuPath':_0xea1b8d(0x170),'menuType':0x0,'menuPlatform':0x1,'order':0x190,'isShow':0x0},{'menuTipText':_0xea1b8d(0x15e),'menuIcon':'fluent:draw-image-24-regular','menuName':_0xea1b8d(0x178),'menuPath':_0xea1b8d(0x19c),'menuType':0x0,'menuPlatform':0x1,'order':0x1f4},{'menuTipText':'思维导图','menuIcon':_0xea1b8d(0x195),'menuName':_0xea1b8d(0x16e),'menuPath':'/mind','menuType':0x0,'menuPlatform':0x1,'order':0x258},{'menuTipText':_0xea1b8d(0x159),'menuIcon':_0xea1b8d(0x163),'menuName':_0xea1b8d(0x157),'menuPath':_0xea1b8d(0x166),'menuType':0x0,'menuPlatform':0x1,'order':0x2bc},{'menuTipText':_0xea1b8d(0x15c),'menuIcon':_0xea1b8d(0x186),'menuName':_0xea1b8d(0x188),'menuPath':'/share','menuType':0x0,'menuPlatform':0x1,'order':0x320}],_0x413c65=[{'menuTipText':_0xea1b8d(0x169),'menuIcon':_0xea1b8d(0x199),'menuName':_0xea1b8d(0x190),'menuPath':'/chat','menuType':0x0,'menuPlatform':0x0,'order':0x64},{'menuTipText':'应用广场','menuIcon':_0xea1b8d(0x164),'menuName':_0xea1b8d(0x154),'menuPath':_0xea1b8d(0x185),'menuType':0x0,'menuPlatform':0x0,'order':0xc8},{'menuTipText':_0xea1b8d(0x18a),'menuIcon':'ri:landscape-line','menuName':_0xea1b8d(0x17c),'menuPath':_0xea1b8d(0x187),'menuType':0x0,'menuPlatform':0x0,'order':0x12c},{'menuTipText':'思维导图','menuIcon':_0xea1b8d(0x195),'menuName':_0xea1b8d(0x16e),'menuPath':_0xea1b8d(0x16c),'menuType':0x0,'menuPlatform':0x0,'order':0x190},{'menuTipText':'个人中心','menuIcon':'ri:account-pin-box-line','menuName':_0xea1b8d(0x161),'menuPath':_0xea1b8d(0x16a),'menuType':0x0,'menuPlatform':0x0,'order':0x1f4}],_0x4645e=[..._0x577d67,..._0x413c65];await this[_0xea1b8d(0x16b)][_0xea1b8d(0x156)](_0x4645e);}async['queryMenu'](_0x561ff4){const _0x580478=_0x588ea0,{menuPlatform:_0x204159}=_0x561ff4;let _0x2fd061={};return _0x204159&&(_0x2fd061[_0x580478(0x192)]=_0x204159),await this[_0x580478(0x16b)]['find']({'where':_0x2fd061,'order':{'order':_0x580478(0x191)}});}async[_0x588ea0(0x176)](_0x264a13){const _0x2c4258=_0x588ea0,{menuPlatform:_0xaf662c}=_0x264a13;let _0x3c8ced={'isShow':!![]};return _0xaf662c&&(_0x3c8ced['menuPlatform']=_0xaf662c),await this[_0x2c4258(0x16b)]['find']({'where':_0x3c8ced,'order':{'order':'ASC'}});}async[_0x588ea0(0x180)](_0x3423e6){const _0x2b856c=_0x588ea0,{id:_0x58124b}=_0x3423e6;if(!_0x58124b)return;const _0x289767=await this['menuEntity'][_0x2b856c(0x15f)]({'where':{'id':_0x58124b}});if(!_0x289767)return;const {isShow:_0x5e9372}=_0x289767,_0x486e60=await this[_0x2b856c(0x16b)][_0x2b856c(0x177)]({'id':_0x58124b},{'isShow':!_0x5e9372});return _0x486e60[_0x2b856c(0x194)]>0x0;}async[_0x588ea0(0x197)](_0x5d1eaa){const _0x4ed9da=_0x588ea0,{id:_0x2836d6}=_0x5d1eaa;_0x5d1eaa[_0x4ed9da(0x17e)]?_0x5d1eaa[_0x4ed9da(0x173)]='':_0x5d1eaa['menuIframeUrl']='';delete _0x5d1eaa[_0x4ed9da(0x17e)];try{if(_0x2836d6){const _0x5c01c4=await this[_0x4ed9da(0x16b)][_0x4ed9da(0x177)]({'id':_0x2836d6},_0x5d1eaa);return _0x5c01c4[_0x4ed9da(0x194)]>0x0;}else{const _0x328f04=await this[_0x4ed9da(0x16b)][_0x4ed9da(0x156)](_0x5d1eaa);return _0x328f04;}}catch(_0x54eb94){throw new common_1[(_0x4ed9da(0x15d))](_0x4ed9da(0x182),common_1[_0x4ed9da(0x16d)][_0x4ed9da(0x18f)]);}}async[_0x588ea0(0x181)](_0x383ca6){const _0x24f602=_0x588ea0,{id:_0x40d8f9}=_0x383ca6;if(!_0x40d8f9)throw new common_1['HttpException'](_0x24f602(0x175),common_1['HttpStatus'][_0x24f602(0x18f)]);const _0x53e186=await this[_0x24f602(0x16b)][_0x24f602(0x162)]({'id':_0x40d8f9});return _0x53e186;}async[_0x588ea0(0x158)](_0x2dfc5b){const _0x1bebfe=_0x588ea0,{id:_0x50df4a,menuIcon:_0x229b24,menuTipText:_0x229f2e,order:_0xa72c3a}=_0x2dfc5b;if(!_0x50df4a||!_0x229b24||!_0x229f2e||!_0xa72c3a)throw new common_1[(_0x1bebfe(0x15d))](_0x1bebfe(0x175),common_1['HttpStatus'][_0x1bebfe(0x18f)]);const _0x2db9f1=await this['menuEntity'][_0x1bebfe(0x177)]({'id':_0x50df4a},{'menuIcon':_0x229b24,'menuTipText':_0x229f2e,'order':_0xa72c3a});return _0x2db9f1[_0x1bebfe(0x194)]>0x0;}};MenuService=__decorate([(0x0,common_1[_0x588ea0(0x19b)])(),__param(0x0,(0x0,typeorm_1[_0x588ea0(0x184)])(menu_entity_1[_0x588ea0(0x16f)])),__metadata(_0x588ea0(0x18c),[typeorm_2[_0x588ea0(0x168)]])],MenuService),exports['MenuService']=MenuService;